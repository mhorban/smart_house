CREATE USER 'smart'@'localhost' IDENTIFIED BY 'smart';
GRANT ALL PRIVILEGES ON * . * TO 'smart'@'localhost';
FLUSH PRIVILEGES;

mysql -u smart -p

CREATE DATABASE smart_db;
USE smart_db;

mysql -h localhost -u smart -p smart_db

CREATE TABLE sensor (id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, name VARCHAR(50) NOT NULL, type_ VARCHAR(50) NOT NULL, room VARCHAR(50) NOT NULL, conn_str VARCHAR(500));

CREATE TABLE sensor_value (id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, sensor_id INT(6) UNSIGNED NOT NULL, time_ TIMESTAMP DEFAULT CURRENT_TIMESTAMP, value VARCHAR(1000) NOT NULL, FOREIGN KEY (sensor_id) REFERENCES sensor(id));

CREATE TABLE handler_dev (id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, name VARCHAR(50) NOT NULL, type VARCHAR(50) NOT NULL, room VARCHAR(50) NOT NULL, conn_str VARCHAR(500));

CREATE TABLE rule (id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, cond VARCHAR(1000) NOT NULL, action_type VARCHAR(50) NOT NULL, action VARCHAR(1000) NOT NULL);
